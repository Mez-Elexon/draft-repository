<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title> Building Blocks v1</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      padding: 2rem;
      max-width: 1000px;
      margin: auto;
      background-color: #f9f9f9;
    }

    h1 {
      text-align: center;
      margin-bottom: 2rem;
    }

    .search-box {
      margin-bottom: 1rem;
      text-align: center;
    }

    .search-box input {
      width: 60%;
      padding: 0.5rem;
      font-size: 1rem;
    }

    .toggle-view {
      text-align: center;
      margin-bottom: 1rem;
    }

    button {
      padding: 0.5rem 1rem;
      margin: 0.2rem;
      font-size: 0.9rem;
    }

    details {
      margin-bottom: 1rem;
      background-color: #fff;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
    }

    summary {
      font-weight: bold;
      font-size: 1.1rem;
      cursor: pointer;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
    }

    th, td {
      padding: 0.6rem;
      border: 1px solid #ccc;
      text-align: left;
    }

    .hidden {
      display: none;
    }

    pre {
      background-color: #eee;
      padding: 1rem;
      overflow-x: auto;
      border-radius: 5px;
    }
  </style>
</head>
<body>

<h1>ðŸ“˜ Business Process Building Blocks Glossary v1 </h1>
<section class="section" style="background-color: #eef5fb; padding: 1.5rem; border-left: 4px solid #007acc; margin-bottom: 2rem;">
  <h2>Common End-to-End process workstream toolkit</h2>
  <p>
    This model aims to encompass Flexibility Market Business Processes and Systems with a focus on the <strong>FSP User Journey</strong>. Note we are developing a Glossary v1 web-page to achieved shared understanding of key concepts employed in the end-to-end journey (e.g., Asset, Unit). For futher detail please refer to the Terms of Reference circulated for the working group.
    We are exploring the value and practicalities of using established modelling tools to ensure business processes align with established international standards (e.g., <strong>BPMN 2.0</strong>).
    Starting in Excel is a pragmatic and lightweight approach for our workstream.
    We can then transform the CSV files into JSON which can then be expressed creatively in HTML as seen below. This approach ensures our toolkit is a future-proofed and machine-readable format.
  </p>
  <p>
    In our initial interview, we will seek the unique contextual information about how your business undertakes each building block, with regards to:
  </p>
  <ul>
    <li><strong>a)</strong> The various Business Processes undertaken</li>
    <li><strong>b)</strong> The Information and Communication flows supporting key data exchange</li>
    <li><strong>c)</strong> The interfacing component/platform systems</li>
  </ul>
  <p>
    We are interested primarily in your interactions with FSP systems and Independent Market Platforms with a secondary focus on DERMS systems and other System Operators. In the first interview we will also do a deep-dive on Registration phase.
  </p>
  <ul>
    Ovearching workstream plan:
    <li><strong>June/July</strong>: initial interviews with System Operators (and/or relevant market operators) with deep-dive on registration phases
    <li><strong>July/August</strong>: subsequent interviews with System Operators (and/or relevant market operators) focussed on narrative for rest of the phases
    <li><strong>Continuous</strong>: All market participants are able to offer general reflections on workstream and detailed reflections on building block narratives using the collaboration tool.
    <li><strong>September</strong>: Elexon to confirm role of common end-to-end process in Consultation on Day 1 Flexibility Market Rules.
  </ul>  
</section>
<section class="section">
  <h2>ðŸ’¬ Community Participation</h2>
  <p>
    Share your thoughts and suggestions with others (Github account required):
    <a href="https://github.com/mez-FMDA/MF_Repository_test/discussions" target="_blank">Join the discussion forum</a>
  </p>
</section>
<div class="search-box">
  <input type="text" id="searchInput" placeholder="Search processes...">
</div>

<div class="toggle-view">
  <button onclick="showView('accordion')">Accordion View</button>
  <button onclick="showView('table')">Table View</button>
  <button onclick="showView('json')">Raw JSON</button>
</div>

<div id="accordionView"></div>
<div id="tableView" class="hidden"></div>
<div id="jsonView" class="hidden"><pre id="jsonContent"></pre></div>

<script>
  const glossary = {
    "Exploration": [
      { "code": "E.1", "process": "Define Sub-Market" },
      { "code": "E.2", "process": "Understand markets" },
      { "code": "E.3", "process": "Build Investment case" },
      { "code": "E.4", "process": "Develop Operational Strategy" }
    ],
    "Registration": [
      { "code": "R.1", "process": "Register/Manage Users" },
      { "code": "R.2", "process": "Register/Manage Organisations" },
      { "code": "R.3", "process": "Register/Manage Related Entities" },
      { "code": "R.4", "process": "Issue and Sign Service T&Cs" },
      { "code": "R.5", "process": "Qualify Commercially" },
      { "code": "R.6", "process": "Register/Manage Assets" },
      { "code": "R.7", "process": "Manage Asset Data" },
      { "code": "R.8", "process": "Qualify Assets" },
      { "code": "R.9", "process": "Register/Manage Units" },
      { "code": "R.10", "process": "Qualify Units" },
      { "code": "R.11", "process": "Test Units" },
      { "code": "R.12", "process": "Manage Unit Data" }
    ],
    "Competition": [
      { "code": "C.1", "process": "Communicate Buy Requirements" },
      { "code": "C.2", "process": "Communicate Sell Requirements" },
      { "code": "C.3", "process": "Clear Market" },
      { "code": "C.4", "process": "Communicate Results / Award Contracts" }
    ],
    "Schedule/Dispatch": [
      { "code": "D.1", "process": "Maintain Unit Availability" },
      { "code": "D.2", "process": "Provide Operational Visibility/Metering" },
      { "code": "D.3", "process": "Dispatch Units" },
      { "code": "D.4", "process": "Deliver Service" },
      { "code": "D.5", "process": "Cease Units" }
    ],
    "Verification": [
      { "code": "V.1", "process": "Collate Verification Data" },
      { "code": "V.2", "process": "Process Verification Data" },
      { "code": "V.3", "process": "Communicate performance" },
      { "code": "V.4", "process": "Manage disputes" }
    ],
    "Settlement": [
      { "code": "S.1", "process": "Generate Invoices" },
      { "code": "S.2", "process": "Process Payments" }
    ]
  };

  function buildAccordionView(filter = '') {
    const container = document.getElementById('accordionView');
    container.innerHTML = '';
    for (const category in glossary) {
      const matches = glossary[category].filter(item =>
        item.code.toLowerCase().includes(filter) ||
        item.process.toLowerCase().includes(filter)
      );
      if (matches.length > 0) {
        const section = document.createElement('details');
        const summary = document.createElement('summary');
        summary.textContent = category;
        section.appendChild(summary);
        const ul = document.createElement('ul');
        matches.forEach(item => {
          const li = document.createElement('li');
          li.textContent = `${item.code} â€“ ${item.process}`;
          ul.appendChild(li);
        });
        section.appendChild(ul);
        container.appendChild(section);
      }
    }
  }

  function buildTableView(filter = '') {
    const container = document.getElementById('tableView');
    container.innerHTML = '<table><thead><tr><th>Category</th><th>Code</th><th>Process</th></tr></thead><tbody></tbody></table>';
    const tbody = container.querySelector('tbody');
    for (const category in glossary) {
      glossary[category].forEach(item => {
        if (
          item.code.toLowerCase().includes(filter) ||
          item.process.toLowerCase().includes(filter) ||
          category.toLowerCase().includes(filter)
        ) {
          const row = document.createElement('tr');
          row.innerHTML = `<td>${category}</td><td>${item.code}</td><td>${item.process}</td>`;
          tbody.appendChild(row);
        }
      });
    }
  }

  function showView(view) {
    document.getElementById('accordionView').classList.add('hidden');
    document.getElementById('tableView').classList.add('hidden');
    document.getElementById('jsonView').classList.add('hidden');
    if (view === 'accordion') {
      document.getElementById('accordionView').classList.remove('hidden');
    } else if (view === 'table') {
      document.getElementById('tableView').classList.remove('hidden');
    } else if (view === 'json') {
      document.getElementById('jsonView').classList.remove('hidden');
    }
  }

  document.getElementById('searchInput').addEventListener('input', e => {
    const query = e.target.value.toLowerCase();
    buildAccordionView(query);
    buildTableView(query);
  });

  // Initial render
  buildAccordionView();
  buildTableView();
  document.getElementById('jsonContent').textContent = JSON.stringify(glossary, null, 2);
</script>

</body>
</html>
